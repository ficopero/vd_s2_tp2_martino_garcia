<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Astronautas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="container">
      <h1><span class="usa">EEUU</span> vs <span class="rusia">RUSIA</span></h1>
      <h3>LA CONQUISTA ESPACIAL ENTRE 2010 Y 2019</h3>
      <P>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
        Aenean at arcu pellentesque, ultricies sem ut, hendrerit augue. 
        Maecenas bibendum lobortis mauris id pellentesque. 
        Ut lobortis orci quis mauris varius mollis. Sed feugiat scelerisque neque sit amet tincidunt.
      </P>
      <h3>Dataviz 1:</h3>
      <button class="btn-rojo" onclick="abrirVentana('dataviz_1')">Ver</button>
      
      <h3>Dataviz 2:</h3>
      <button class="btn-azul" onclick="abrirVentana('dataviz_2')">Ver</button>
      
      <h3>Dataviz 3:</h3>
      <button class="btn-rojo" onclick="abrirVentana('dataviz_3')">Ver</button>
      
      <h3>Dataviz 4:</h3>
      <button class="btn-azul" onclick="abrirVentana('dataviz_3')">Ver</button>

      <br><br>

      <div id="mi-ventana-emergente" class="ventana-emergente">
        <div class="contenido-ventana">
          <div id="contenido-html"></div>
        </div>
      </div>

    </div>  
  </body>
  <style>
    .ventana-emergente {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      display: none;
    }
    
    .contenido-ventana {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: white;
      padding: 20px;
      border-radius: 5px;
      width: 80%;
      max-width: 640px;
    }
    
    .ventana-emergente.mostrar {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    </style>



<script>
  var ventanaEmergente = document.getElementById("mi-ventana-emergente");
  
  function abrirVentana(dataviz) {
  ventanaEmergente.classList.add("mostrar");

  // Cargar contenido HTML del archivo "contenido.html"
  var xhr = new XMLHttpRequest();
  var linkhtml = ''+dataviz+'/index.html';
  xhr.open('GET', linkhtml, true);
  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 && xhr.status === 200) {
      var contenidoHtml = document.getElementById('contenido-html');
      contenidoHtml.innerHTML = xhr.responseText;

      // Cargar archivo JavaScript despu√©s de cargar el contenido HTML
      var script = document.createElement('script');
      script.src = ''+dataviz+'/script.js';
      script.onload = function() {
        // El archivo JavaScript se ha cargado correctamente
      };
      contenidoHtml.appendChild(script);
    }
  };
  xhr.send();
}

  window.addEventListener("click", function(event) {
    var contenidoHtml = document.getElementById("contenido-html");
    console.log("click");
      if (event.target != ventanaEmergente || contenidoHtml.innerHTML == "") {
        console.log("sape");
        return;
      }
      cerrarVentana();
    });
  
  function cerrarVentana() {
    var contenidoHtml = document.getElementById("contenido-html");
  contenidoHtml.innerHTML = "";
    var ventanaEmergente = document.getElementById("mi-ventana-emergente");
    ventanaEmergente.classList.remove("mostrar");
  }

  
  </script>

<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.2/iframeResizer.contentWindow.js"></script>
    
</html>
